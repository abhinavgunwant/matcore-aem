<!--/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  ~ Copyright 2019 Adobe
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/-->

<!--/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  ~ MatCore
  ~
  ~ Changes:
  ~ - Added mdc classes and additional markup where applicable.
  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/-->

<div
    class="button__touch-wrapper mdc-touch-target-wrapper"
    data-sly-unwrap="${ !properties.touchButton }">
    <button
        data-sly-use.button="com.adobe.cq.wcm.core.components.models.Button"
        data-sly-use.iconTemplate="icon.html"
        data-sly-element="${button.link ? 'a' : 'button'}"
        class="cmp-button mdc-button ${ properties.type }${ properties.touchButton ? ' mdc-button--touch' : '' }"
        href="${button.link}"
        aria-label="${button.accessibilityLabel}">

        <div
            class="mdc-button__ripple"
            data-sly-test="${ properties.type != 'mdc-icon-button' }">
        </div>
            
        <sly data-sly-call="${ iconTemplate.icon @
            type=properties.type,
            iconType=properties.iconType,
            materialIconName=properties.materialIconName,
            iconMarkup=properties.iconMarkup,
            customIcon=properties.customIcon,
            materialIconColor=properties.materialIconColor,
            htmlMarkupIconColor=properties.htmlMarkupIconColor }"></sly>
        
        <span
            data-sly-test="${ button.text && properties.type != 'mdc-icon-button' }"
            class="cmp-button__text mdc-button__label">
            ${ button.text }
        </span>

        <div class="mdc-button__touch" data-sly-test="${ properties.touchButton }"></div>
    </button>
</div>